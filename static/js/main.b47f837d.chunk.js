(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{28:function(e,t,a){e.exports=a(39)},37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),o=a.n(r),i=a(26),l=a(2),s=a(14),m=a(10),u=a(7),d=a(9),E=function(){return function(e){fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat(d.moviesApikey,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){e({type:"MOVIES_UPDATE",payload:t.results})})).catch((function(t){e({type:"ERROR",payload:t})}))}};function p(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],o=a[1];return c.a.createElement("div",{className:"searchInputContainer",style:e.style?e.style:{}},c.a.createElement("input",{onChange:function(e){return o(e.target.value)},value:r,className:"searchInput",type:"text",placeholder:"Search Movie...",onKeyDown:function(t){13===t.keyCode&&e.searchFunction(r)}}),c.a.createElement("img",{src:d.PAGE_URL+"/static/scopeIcon.svg",alt:"scope icon",className:"scopeIcon",onClick:function(){return e.searchFunction(r)}}))}function v(e){return c.a.createElement("div",null,c.a.createElement("input",{className:"modal-state",id:"modal",type:"checkbox",checked:e.open,onChange:function(){}}),c.a.createElement("div",{className:"modal"},c.a.createElement("label",{className:"modal__bg",onClick:e.onClose,htmlFor:"modal"}),c.a.createElement("div",{className:"modal__inner"},c.a.createElement("label",{className:"modal__close",onClick:e.onClose,htmlFor:"modal"}),c.a.createElement("section",{className:"modalContainer"},e.children))))}var h=a(27);function f(e){var t=Object(h.a)(Array(10).keys()),a=function(e){t.map((function(t){return document.querySelector("#star-".concat(t)).style.background=t<=e?"orange":"#c4c4c4"}))},n=function(t){e.value===t?(e.onClick(-1),a(-1)):e.onClick(t)};return e.filterMode?c.a.createElement("div",{className:"starsRatingContainer",onMouseLeave:function(){return a(e.value)}},t.map((function(t){return t%2?c.a.createElement("div",{key:"star-".concat(t),className:t+1<=e.value?"star star--right star--checked":"star star--right star--notChecked",id:"star-".concat(t),onMouseOver:function(){return a(t)},onClick:function(){return n(t)}}):c.a.createElement("div",{key:"star-".concat(t),className:t+1<=e.value?"star star--left star--checked":"star star--left star--notChecked",id:"star-".concat(t),onMouseOver:function(){return a(t)},onClick:function(){return n(t)}})}))):c.a.createElement("div",{className:"starsRatingContainer"},t.map((function(t){return t%2?c.a.createElement("div",{key:"star-".concat(t),className:t+1<=e.value?"star star--right star--checked":"star star--right star--notChecked",id:"star-".concat(t)}):c.a.createElement("div",{key:"star-".concat(t),className:t+1<=e.value?"star star--left star--checked":"star star--left star--notChecked",id:"star-".concat(t)})})),c.a.createElement("span",{className:"starsValue"},e.value))}function g(){var e=Object(m.c)((function(e){return e.movies.selectedMovie}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modalContainer--title"},c.a.createElement("h1",null,e.title," ")),c.a.createElement("div",{className:"modalContainer--body"},c.a.createElement("h2",null,e.tagline),c.a.createElement("h3",null,e.overview),c.a.createElement("h3",null,c.a.createElement("a",{href:e.homepage},"Movies's web page")),c.a.createElement("h3",null,"Popularity: ",Math.round(e.popularity),"!"),c.a.createElement(f,{value:e.vote_average,filterMode:!1}),c.a.createElement("div",{className:"modalContainer--body--companies"},e.production_companies?e.production_companies.map((function(e){return e.logo_path&&e.name?c.a.createElement("img",{key:e.name,src:"https://image.tmdb.org/t/p/w200".concat(e.logo_path),alt:e.name}):null})):null)))}function y(){var e=Object(n.useState)(-1),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)("Discover"),i=Object(s.a)(o,2),l=i[0],h=i[1],y=Object(m.c)((function(e){return e.movies.data})),_=Object(m.c)((function(e){return e.movies.selectedMovie})),O=Object(m.b)();Object(n.useEffect)((function(){O(E())}),[]);var b=function(e){O(function(e){return function(t){t({type:"SELECTED_MOVIE_UPDATE",payload:{open:!1}}),fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(d.moviesApikey,"&language=en-US"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){t({type:"SELECTED_MOVIE_UPDATE",payload:Object(u.a)(Object(u.a)({},e),{},{open:!0})})})).catch((function(e){t({type:"ERROR",payload:e})}))}}(e))},N=function(e){var t;""===e?(h("Discover"),O(E())):(h('Movies with: "'.concat(e,'"')),O((t=e,function(e){fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(d.moviesApikey,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){e({type:"MOVIES_UPDATE",payload:t.results})})).catch((function(t){e({type:"ERROR",payload:t})}))})))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"backgroundImage",style:{backgroundImage:"url(".concat(d.PAGE_URL,"/static/movieIcon.png)")}}),c.a.createElement("div",{className:"topNavbarContainer"},c.a.createElement("nav",{className:"topNavComponent"},c.a.createElement("h1",{className:"pageTitle",onClick:function(){return N("")}},"Your Local Movie Theater!"),c.a.createElement(p,{style:{marginRight:"2rem"},searchFunction:N}),c.a.createElement("div",{className:"absolutePosition"},c.a.createElement("div",{className:"relativePosition"},c.a.createElement("div",{className:"fixedPosition ratingFilterContainer"},c.a.createElement(f,{value:a,onClick:r,filterMode:!0})))))),c.a.createElement("div",{className:"homeComponent"},c.a.createElement("h2",{className:"centerTitle sectionTitle"},l),c.a.createElement("section",{className:"movieListContainer"},y.filter((function(e){return-1===a||e.vote_average>=a-2&&e.vote_average<=a})).sort((function(e,t){return t.vote_average-e.vote_average})).map((function(e,t){return c.a.createElement("article",{onClick:function(){return b(e.id)},className:t<3?"itemArticle--popular-".concat(t):"itemArticle",key:"movie-".concat(e.title)},c.a.createElement("img",{className:"itemArticle--img",title:e.title,src:"https://image.tmdb.org/t/p/w".concat(t<3?"500":"200","/").concat(e.poster_path),alt:"".concat(e.title,"-poster")}))})),c.a.createElement("article",{className:"itemArticle--viewMore"},"View more"))),c.a.createElement(v,{open:_.open,onClose:function(){return O((function(e){e({type:"SELECTED_MOVIE_UPDATE",payload:{open:!1}})}))}},c.a.createElement(g,null)))}var _=a(8),O=a(20),b={error:"",data:[],loading:!1,selectedMovie:{data:"",title:"",open:!1}},N=Object(_.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVIES_UPDATE":return Object(u.a)(Object(u.a)({},e),{},{data:t.payload,loading:!1});case"SELECTED_MOVIE_UPDATE":return Object(u.a)(Object(u.a)({},e),{},{selectedMovie:Object(u.a)({},t.payload)});case"ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:t.payload});default:return e}}}),k=function(e){var t=e.children,a=e.initialState,n=void 0===a?{}:a,r=Object(_.e)(N,n,Boolean(window.__REDUX_DEVTOOLS_EXTENSION__)?Object(_.d)(Object(_.a)(O.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0,traceLimit:25})):Object(_.a)(O.a));return c.a.createElement(m.a,{store:r},t)};a(37);function C(){return c.a.createElement(i.a,null,c.a.createElement("main",null,c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/",render:function(e){return c.a.createElement(y,{action:"login"})}}),c.a.createElement(l.a,{exact:!0,path:"/register",render:function(e){return c.a.createElement(y,{action:"register"})}}))))}o.a.render(c.a.createElement(k,null,c.a.createElement(C,null)),document.getElementById("root"))},9:function(e,t){e.exports={moviesApikey:"5263cfe7d7523c72560af41d11d438d7",moviesAccesToken:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1MjYzY2ZlN2Q3NTIzYzcyNTYwYWY0MWQxMWQ0MzhkNyIsInN1YiI6IjVmMGY2YjkwZTIyZDI4MDAzNmM4NzMxZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HCsPOPH2ETi_7LRI0zjGRlvLiMpSt806N6SC_uKYnZc",PAGE_URL:"https://martingk.github.io/moviesCodingChallenge"}}},[[28,1,2]]]);
//# sourceMappingURL=main.b47f837d.chunk.js.map