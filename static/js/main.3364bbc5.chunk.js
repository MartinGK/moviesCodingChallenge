(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{28:function(e,t,a){e.exports=a(39)},37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(15),r=a.n(o),l=a(26),i=a(2),s=a(8),m=a(19),u=a(11),d=a(14),E=a(7),p=a(9),v=function(){return function(e){fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat(p.moviesApikey,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){e({type:"MOVIES_UPDATE",payload:t.results})})).catch((function(t){e({type:"ERROR",payload:t})}))}};function h(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),o=a[0],r=a[1];return c.a.createElement("div",{className:"searchInputContainer",style:e.style},c.a.createElement("input",{onChange:function(e){return r(e.target.value)},className:"searchInput",type:"text",placeholder:"Search Movie...",onKeyDown:function(t){13===t.keyCode&&e.searchFunction(o)}}),c.a.createElement("img",{src:p.PAGE_URL+"/static/scopeIcon.svg",alt:"scope icon",className:"scopeIcon",onClick:function(){return e.searchFunction(o)}}))}var f=a(27);function g(e){var t=Object(f.a)(Array(10).keys()),a=function(e){t.map((function(t){return document.querySelector("#star-".concat(t)).style.background=t<=e?"orange":"#c4c4c4"}))},n=function(t){e.value===t?(e.onClick(-1),a(-1)):e.onClick(t)};return e.filterMode?c.a.createElement("div",{className:"starsRatingContainer",onMouseLeave:function(){return a(e.value)}},t.map((function(t){return t%2?c.a.createElement("div",{key:"star-".concat(t),className:t+1<=e.value?"star star--right star--checked":"star star--right star--notChecked",id:"star-".concat(t),onMouseOver:function(){return a(t)},onClick:function(){return n(t)}}):c.a.createElement("div",{key:"star-".concat(t),className:t+1<=e.value?"star star--left star--checked":"star star--left star--notChecked",id:"star-".concat(t),onMouseOver:function(){return a(t)},onClick:function(){return n(t)}})}))):c.a.createElement("div",{className:"starsRatingContainer"},t.map((function(t){return t%2?c.a.createElement("div",{key:"star-".concat(t),className:t+1<=e.value?"star star--right star--checked":"star star--right star--notChecked",id:"star-".concat(t)}):c.a.createElement("div",{key:"star-".concat(t),className:t+1<=e.value?"star star--left star--checked":"star star--left star--notChecked",id:"star-".concat(t)})})),c.a.createElement("span",{className:"starsValue"},e.value))}function y(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{className:"modal-state",id:"modal-1",type:"checkbox",checked:e.open,onChange:function(){}}),c.a.createElement("div",{className:"modal"},c.a.createElement("label",{className:"modal__bg",onClick:e.onClose,htmlFor:"modal-1"}),c.a.createElement("div",{className:"modal__inner"},c.a.createElement("label",{className:"modal__close",onClick:e.onClose,htmlFor:"modal-1"}),c.a.createElement("section",{className:"modalContainer"},c.a.createElement("div",{className:"modalContainer--title"},c.a.createElement("h1",null,e.data.title," ")),c.a.createElement("div",{className:"modalContainer--body"},c.a.createElement("h2",null,e.data.tagline),c.a.createElement("h3",null,c.a.createElement("a",{href:e.data.homepage},"Movies's web page")),c.a.createElement("h3",null,"Popularity: ",Math.round(e.data.popularity),"!"),c.a.createElement(g,{value:e.data.vote_average,filterMode:!1}),c.a.createElement("div",{className:"modalContainer--body--companies"},e.data.production_companies?e.data.production_companies.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{key:e.name,src:"https://image.tmdb.org/t/p/w200".concat(e.logo_path),alt:e.name}))})):null))))))}function _(){var e=Object(n.useState)(-1),t=Object(d.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)("Discover"),l=Object(d.a)(r,2),i=l[0],s=l[1],m=Object(u.c)((function(e){return e.movies.data})),f=Object(u.c)((function(e){return e.movies.selectedMovie})),_=Object(u.b)();Object(n.useEffect)((function(){_(v())}),[]);var N=function(e){_(function(e){return function(t){t({type:"SELECTED_MOVIE_UPDATE",payload:{open:!1}}),fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(p.moviesApikey,"&language=en-US"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("data"),console.log(e),t({type:"SELECTED_MOVIE_UPDATE",payload:Object(E.a)(Object(E.a)({},e),{},{open:!0})})})).catch((function(e){t({type:"ERROR",payload:e})}))}}(e))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"backgroundImage",style:{backgroundImage:"url(".concat(p.PAGE_URL,"/static/movieIcon.png)")}}),c.a.createElement("div",{className:"topNavbarContainer"},c.a.createElement("nav",{className:"topNavComponent"},c.a.createElement("h1",{className:"pageTitle"},"Your Local Movie Theater!"),c.a.createElement(h,{style:{marginRight:"2rem"},searchFunction:function(e){var t;""===e?(s("Discover"),_(v())):(s('Movies with: "'.concat(e,'"')),_((t=e,function(e){fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(p.moviesApikey,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t),e({type:"MOVIES_UPDATE",payload:t.results})})).catch((function(t){e({type:"ERROR",payload:t})}))})))}}),c.a.createElement("div",{className:"absolutePosition"},c.a.createElement("div",{className:"relativePosition"},c.a.createElement("div",{className:"fixedPosition ratingFilterContainer"},c.a.createElement(g,{value:a,onClick:o,filterMode:!0})))))),c.a.createElement("div",{className:"homeComponent"},c.a.createElement("h2",{className:"centerTitle sectionTitle"},i),c.a.createElement("section",{className:"movieListContainer"},m.filter((function(e){return-1===a||e.vote_average>=a-2&&e.vote_average<=a})).sort((function(e,t){return t.vote_average-e.vote_average})).map((function(e,t){return c.a.createElement("article",{onClick:function(){return N(e.id)},className:t<3?"itemArticle--popular-".concat(t):"itemArticle",key:"movie-".concat(e.title)},c.a.createElement("img",{className:"itemArticle--img",title:e.title,src:"https://image.tmdb.org/t/p/w".concat(t<3?"500":"200","/").concat(e.poster_path),alt:"".concat(e.title,"-poster")}))})),c.a.createElement("article",{className:"itemArticle--viewMore"},"View more"))),c.a.createElement(y,{open:f.open,data:f,onClose:function(){return _((function(e){e({type:"SELECTED_MOVIE_UPDATE",payload:{open:!1}})}))},title:f.title}))}var N={error:"",data:[],loading:!1,selectedMovie:{data:"",title:"",open:!1}},O=Object(s.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVIES_UPDATE":return Object(E.a)(Object(E.a)({},e),{},{data:t.payload,loading:!1});case"SELECTED_MOVIE_UPDATE":return Object(E.a)(Object(E.a)({},e),{},{selectedMovie:Object(E.a)({},t.payload)});case"ERROR":return Object(E.a)(Object(E.a)({},e),{},{error:t.payload});default:return e}}}),b=(a(37),Object(s.e)(O,Boolean(window.__REDUX_DEVTOOLS_EXTENSION__)?Object(s.d)(Object(s.a)(m.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0,traceLimit:25})):Object(s.a)(m.a)));var k=function(){return c.a.createElement(u.a,{store:b},c.a.createElement(l.a,null,c.a.createElement("main",null,c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/",render:function(e){return c.a.createElement(_,{action:"login"})}}),c.a.createElement(i.a,{exact:!0,path:"/register",render:function(e){return c.a.createElement(_,{action:"register"})}})))))};r.a.render(c.a.createElement(k,null),document.getElementById("root"))},9:function(e,t){e.exports={moviesApikey:"5263cfe7d7523c72560af41d11d438d7",moviesAccesToken:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1MjYzY2ZlN2Q3NTIzYzcyNTYwYWY0MWQxMWQ0MzhkNyIsInN1YiI6IjVmMGY2YjkwZTIyZDI4MDAzNmM4NzMxZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HCsPOPH2ETi_7LRI0zjGRlvLiMpSt806N6SC_uKYnZc",PAGE_URL:"https://martingk.github.io/moviesCodingChallenge"}}},[[28,1,2]]]);
//# sourceMappingURL=main.3364bbc5.chunk.js.map